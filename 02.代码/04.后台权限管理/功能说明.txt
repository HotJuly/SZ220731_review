无论是多大的公司,他们的后台管理系统都至少有两级权限:
    1.管理员
        拥有当前项目所有的模块的观看权限和功能的使用权限
    2.访客
        拥有当前项目部分莫管的观看权限和功能的使用权限

    权限管理系统一共由两部分组成
        1.路由级别的权限管理
            目的:控制当前账号能够看到使用哪些路由(模块)
        2.按钮级别的权限管理
            目的:控制当前账号能够使用哪些按钮功能(例如品牌的增删改查)

第一部分:路由级别权限管理
需求:根据当前账号的权限,控制项目能够使用哪些路由?
拆解:
    1.根据当前账号的权限
        必须在登录帐号之后才能获取到权限信息
        此处登录过程中,一共有2个接口
            login接口->将用户输入的帐号密码,兑换成用户的唯一标识token字符串
            info接口->将用户的唯一标识token,兑换成用户的账号相关信息,其中的重要属性
                name->帐号名称
                avatar->帐号头像
                buttons->这是与按钮级别权限管理相关的数据
                    数据类型:string[]
                routes->这是用于实现路由级别权限管理相关的数据
                    数据类型:string[]
                    内部的字符串,其实都是当前账号能够访问的路由的别名

    2.控制项目能够使用哪些路由
        问题:如何让用户无法访问一个路由?
        回答:
            方案一:只要开发者不注册这个路由,那么用户肯定无法访问
            方案二:通过导航守卫,在用户跳转某个路由的时候,拦截并执行next(false),不让他跳转

            市面上用的比较多的是方案一,因为操作简单,而且出错概率小

        问题:如何动态注册路由?
        回答:
            语法一:router.addRoute(某个路由对象)
            语法二:router.addRoutes([多个路由对象])
                Vue2项目选择语法二,Vue3选择语法一


    流程总结:
        1.将原本的路由数组分解为三个路由数组
            常量路由
            异步路由
            任意路由

        2.将常量路由数组传入VueRouter进行注册
            由于该操作只注入了常量路由,所以异步路由和任意路由都没法访问

        3.用户在登录帐号的时候,
            通过login接口,将用户帐号密码,兑换成用户的唯一标识token字符串
            再通过info接口,将用户的唯一标识token,兑换成用户的权限信息

        4.将请求的到的权限相关数据,保存在Vuex中
        
        5.封装一个专门用于过滤异步路由的数组
            将当前项目所有的异步路由传入其中,同时在将请求得到的有资格访问的路由别名数组也传入内部
            过滤得到当前账号有资格访问到的异步路由对象组成的数组

        6.使用addRoutes语法,将流程5中,获取到的最新的异步路由数组,进行注册

    在此期间遇到的BUG:
        1.左侧动态列表显示BUG
            问题:sideBar组件他是根据在new VueRouter的时候传入的routes数组来生成菜单的
                但是由于已经实现了路由级别权限管理,导致routes数组中只有常量路由

            解决方法:在Vuex中,创建一个状态数据menuList,该属性收集当前账号能够访问的所有的路由对象
                最后,让sideBar组件映射该数据,用来遍历展示左侧列表

        2.路由随着帐号的切换,个数越来越少
            问题:由于登出帐号,并不会导致当前项目刷新,下个用户登录的时候,还是拿着上个用户剩余异步路由进行再次过滤
            解决方法:每次过滤异步路由的时候,都不去过滤原件,都是使用cloneDeep获取到一份全新的异步路由,在进行过滤