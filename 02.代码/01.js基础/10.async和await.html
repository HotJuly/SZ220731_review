<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
    /*
        async和await
            1.他们是什么?
                他们是ES7的语法新特性
                他们是语法糖
                    他们内部其实用到的还是promise和.then

                async和await是两个重要的关键字

            2.他们的作用?
                他们是解决回调地狱的终极武器
                他们可以让开发者实现,以同步的流程,书写异步的代码

            3.他们的使用方法?
                async关键字
                    async关键字可以单独使用
                    即便写了async,该函数中的代码还是会同步执行

                    async函数的返回值:
                        是一个全新的promise对象(简称p1)
                            变为成功
                                1.只要async函数中的代码全部成功执行结束,那么p1就是成功状态
                                2.如果async函数返回一个成功的promise对象,那么p1就是成功状态

                            变为失败
                                1.如果async函数中的代码没能成功执行结束,那么p1就是失败状态
                                2.如果async函数返回一个失败的promise对象,那么p1就是失败状态

                    注意:async函数中,无论return什么,都不会影响到async函数返回一个promise对象这件事情
                        并且会将返回的数据作为p1对象的result结果值存储

                await关键字
                    await关键字不可以单独使用
                        扩展:在ES12标准中,允许在顶级作用域中单独使用await关键字
                            顶级作用域指的是全局作用域和ES模块内部

                    await关键字,可以拦截后续代码执行,但是范围仅限于async函数内部
                        注意:await只会拦截后续代码,不会拦截右侧代码

                    await表达式的返回值,就是右侧Promise对象的结果值
                        如果await右侧不是Promise对象,那么右侧的数据就会成为await表达式的返回值

                    

                    
    */

//    async function fn(){
//     console.log(1);
//     await axios.get(url);
//     console.log(2)
//    }

//------------------------------------
    async function fn(){
        console.log(1)

        var result = await new Promise((resolve,reject)=>{
             console.log(5)
            setTimeout(()=>{
                // resolve()
                reject();
            },2000)
        });

        console.log(2,result)

        // throw new Error()

        // return 333;
        // return Promise.resolve();
        // return Promise.reject();
    }

    console.log(3)
    var a = fn();
    console.log(4,a)


    //--------------------------------------------
    // function fn(){
    //     console.log(1)

    //     return new Promise((resolve)=>{
    //          console.log(5)
    //         setTimeout(()=>{
    //             resolve()
    //         },2000)
    //     })
    //     .then(()=>{
    //         console.log(2)
    //         //  return 333;
    //     })

    // }

    // console.log(3)
    // fn();
    // console.log(4)



    </script>
</body>
</html>